#联网篇

1.插上了网卡
2.并输入ipconfig可查看ip
3.输入nmcli dev wifi可查看附近的wifi
4.输入sudo nmcli dev wifi connect "wifi名字" password "密码"连接    wifi
配置静态网关网段等
nmap -sn 192.168.1.0/24
#DHCP无法分配ip

# 换源
## 备份主次源
在linux的终端里:sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak(备份一份)
sudo gedit /etc/apt/sources.list(打开文本编辑)
更换镜像源并保存
sudo apt-get update(更新镜像源在电脑里)
sudo apt-get install python3-pio oython3-dev(下载python的pip)
sudo apt-get install python-pio oython-dev(下载python的pip)     python2
## pip换源
sudo mkdir .pip(创建一个隐藏文件夹)
cd .pip
sudo touch pip.conf
sudo gedit pip.conf
更换源
sudo apt-get update(更新镜像源在电脑里)
# 中文输入法
sudo apt-get install ibus ibus-clutter ibus-gtk ibus-gtk3 ibus-qt4 ibus-pinyin
im -config -s ibus
# 自带环境
## python
python --version
python3 --version
python3
import cv2
cv2.__version__
quit()
## cuda
## condn

sudo pip3 install jetson-stats
sudo jtop

# 最佳性能模式
sudo nvpmodel -q
sudo nvmodel -m 1
sudo jetson_clocks --show
sudo nvpmodel -m 0

# 显卡信息查询
cd /usr/local/cuda-10.2/samples/1_Utilities/deviceQuery
sudo make
./deviceQuery

# cpu与显卡性能对比
cd /usr/local/cuda-10.2/samples/5_Simulations/nbody
sudo make
./nbody
./nbody -cpu

# tensorrt
cd /usr/src/tensorrt/samoles/
sudo make
../bin/samole_mnist(/usr/src/tensorrt/data/mnist里面要有测试的图片文件)


三.PWD风扇配置
某宝买的nano没有配PWD可控风速的风扇，一直全速运转比较吵；后自己买了个PWD风扇装上，需进行下配置，就可根据温度来控制转速了，待机时基本没什么噪音了。

这里引用大神开源的脚本：

https://github.com/Pyrestone/jetson-fan-ctl

下载源码安装：

./install.sh
1
这里可能要给install.sh添加权限
sudo chmod 777 ./install.sh

安装完成后，查看一下风扇状态。

sudo service automagic-fan status
1
如需自己修改一些配置参数：

sudo nano /etc/automagic-fan/config.json

                        
原文链接：https://blog.csdn.net/djj199301111/article/details/107589906

四.图形界面的关闭开启
Jetson Nano的内存为4G，与显存共用；而关闭图形界面，可以节省1.1G左右内存开销，也就等于多了1.1G的显存，可以进一步提升一些性能。

关闭图形界面
sudo systemctl set-default multi-user.target 
sudo reboot
1
2
开启图形界面
sudo systemctl set-default graphical.target 
sudo reboot

原文链接：https://blog.csdn.net/djj199301111/article/details/107589906

# jetson-inference
sudo apt updata
sudo apt autoremove卸载安装包,去清理内存
sudo apt upgrade
sudo apt install cmake

3.3 安装摄像头
Jetson包含CSI相机接口（A01有一路；B02版本有两路），可以接树莓派摄像头(基于MX219)，相机接口在如下位置（安装时注意接口的正反，信号触点面朝里）：


▲ Jetson Nano CSI相机接口及电源按钮接口 ▲
摄像头连接好后可以通过以下指令测试是否工作:

gst-launch-1.0 nvarguscamerasrc ! 'video/x-raw(memory:NVMM),width=3820, height=2464, framerate=21/1, format=NV12' ! nvvidconv flip-method=0 ! 'video/x-raw,width=960, height=616' ! nvvidconv ! nvegltransform ! nveglglessink -e
当然除了使用CSI接口的摄像头外，也可以使用USB连接网络摄像头。

3.7 使用VNC远程桌面访问Jetson（可选）
如果觉得连接屏幕使用不方便的话，也可以使用VNC实现headless远程桌面访问Jetson Nano. 需要的步骤是：

修改配置: $ sudo nano /usr/share/glib-2.0/schemas/org.gnome.Vino.gschema.xml
在最后一个"</key>"之后，"</schema>"之前，添加:

<key name='enabled' type='b'>
   <summary>Enable remote access to the desktop</summary>
   <description>
   If true, allows remote access to the desktop via the RFB
   protocol. Users on remote machines may then connect to the
   desktop using a VNC viewer.
   </description>
   <default>false</default>
</key>
编译配置: $ sudo glib-compile-schemas /usr/share/glib-2.0/schemas
添加运行脚本: $ nano ~/openvino
#!/bin/bash
export DISPLAY=:0
gsettings set org.gnome.Vino enabled true
gsettings set org.gnome.Vino prompt-enabled false
gsettings set org.gnome.Vino require-encryption false
/usr/lib/vino/vino-server &
添加执行权限: $ chmod +x ~/openvino
之后通过VNC软件，如Remmina / RealVNC，就可以连接Nano了。
如果需要改变屏幕分辨率，可以通过以下命令: $ xrandr --fb 1920x1080

4. Jetson开发资源

5. 运行Jetson Inference
为了体验Jetson的功能，我们使用Jetson Inference示例。Jetson Inference是官方推出的示例教程之一（Tutorial: Hello, AI world）。整个安装流程如下（安装时间较长，需耐心等待）：

# download the repo
$ git clone --recursive https://github.com/dusty-nv/jetson-inference
$ cd jetson-inference
​
# configure build tree
$ mkdir build
$ cd build
$ cmake ../
​
# build and install
$ make -j$(nproc)
$ sudo make install
$ sudo ldconfig
安装过程中，会弹出提示，可以根据需要下载所需的预训练DNN模型。整个安装完成后，就可以体验Jetson Nano的示例了。这个Tutorial包含了以下三个示例：

Inference Example 1. Classifying Images with ImageNet

Inference Example 3. Semantic Segmentation with SegNet

3.4 风扇自启动
系统高负荷运行时板子还是很烫的，所以设置风扇开机时自启动，前提是风扇已经安装。编辑自启动脚本

sudo gedit /etc/rc.local
写入命令，控制风扇运转到最高功率的100/255。

#!/bin/bash
sudo sh -c 'echo 100 > /sys/devices/pwm-fan/target_pwm'
然后需要赋予脚本执行权限，这一点非常重要

sudo chmod 755 /etc/rc.local

3.5 SSH远程登录
一方面，由于Nano的内存和显存是共用的，关闭图形界面可以节省1GB以上的显存，另一方面，由于命令行更利于对大规模集群进行批量控制，所以接下来配置Nano以支持SSH远程登录。由于Nano本身已经开启了SSH服务，只需要配置一下静态IP和免密登录。

配置静态IP地址

3. Jetson Nano GPU加速实践操作
3.1 环境搭建与配置
3.1.1 安装必要的驱动与库文件
在开始GPU加速实践之前，首先需要为Jetson Nano安装必要的驱动与库文件。本节将介绍如何在Jetson Nano上安装CUDA和cuDNN等关键组件，这些组件是进行GPU加速开发的基础。

首先，需要访问NVIDIA JetPack SDK，JetPack是为Jetson Nano提供的官方软件开发包。它包含了操作系统镜像、GPU驱动程序以及CUDA和cuDNN等库。使用如下命令下载并安装JetPack：

sudo apt update
sudo apt install jetpack
接着安装CUDA Toolkit。CUDA是NVIDIA开发的并行计算平台和编程模型，它允许开发者利用GPU进行通用计算。在Jetson Nano上安装CUDA的命令如下：

sudo apt install nvidia-cuda-toolkit
cuDNN是CUDA深度神经网络库，它提供了专门的GPU加速功能，针对深度学习计算进行了优化。安装cuDNN的命令如下：

sudo apt install nvidia-cudnn
安装完成后，通过验证CUDA版本和运行一些简单的CUDA程序来确保环境搭建正确：

nvcc --version
这将显示已安装的CUDA版本信息，如果显示无误，说明CUDA已经正确安装。然后运行一个CUDA样例程序验证安装是否成功。

cd /usr/local/cuda-10.2/samples/1_Utilities/deviceQuery
sudo make
./deviceQuery

# 网络配置
在我之前没有装网卡,而是直接用的usb进行连接时,开启电脑的时候选择网络连接我选择的是usb0,但是现在我的无线网卡到了,并且我也安装上了,我输入nmlic dev wifi也可以正常的搜索到wifi,但是无法连接,提示dchp无法获取ip
所以我又重新装了系统,这一回在初始化系统前,我把无线网卡先安装上去了,当初始化系统要选择网络时,我选择的是wlan0,然后就可以正常的连接网络了(暂且还是连接不上)

连接
如果是学校的校园网，登录窗口需要在浏览器输入登录网址

这个命令可以检查联网信息，

ping www.baidu.com
之后有几次要进入tty模式下，没有图形界面，打开网络需要更多的命令，详见我之后的文章++++++

ubuntu18连接secureCRT，以及解决Key exchange failure（密钥交互失败）错误
ununtu18虚拟机连接外部的SecureCRT，首先需要给ubuntu配置静态ip

1、使用 ifconfig命令
    armstrong@ubuntu:~$ ifconfig
    ens33: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.23.129  netmask 255.255.255.0  broadcast 192.168.23.255
        ether 00:0c:29:c2:eb:3b  txqueuelen 1000  (Ethernet)
        RX packets 311086  bytes 437299211 (437.2 MB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 35146  bytes 2738150 (2.7 MB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
    
    lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 13181  bytes 1207481 (1.2 MB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 13181  bytes 1207481 (1.2 MB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
2、使用sudo ps -e|grep ssh 命令查看ssh服务是否正常
    armstrong@ubuntu:~$ sudo ps -e|grep ssh
    [sudo] password for armstrong: 
      1448 ?        00:00:00 ssh-agent
      6080 ?        00:00:00 sshd
      6803 ?        00:00:00 sshd
      6890 ?        00:00:00 sshd
正常会如上
如果不正常就可能是ssh服务出了问题，使用下述命令安装ssh服务即可

    armstrong@ubuntu:~$ sudo apt-get install openssh-server
如若遇到下述错误，就是有相关文件等被锁，最简单的办法就是重启虚拟机，或者释放该文件使用rm命令即可。

    armstrong@ubuntu:~$ apt-get install openssh-server
    E: Could not open lock file /var/lib/dpkg/lock-frontend - open (13: Permission denied)
    E: Unable to acquire the dpkg frontend lock (/var/lib/dpkg/lock-frontend), are you root?
3、修改网卡配置
    armstrong@ubuntu:~$ sudo vim /etc/netplan/01-network-manager-all.yaml
    # Let NetworkManager manage all devices on this system
    network:
      ethernets:
    ens33:#配置的网卡名称,使用ifconfig -a查看得到,且必须是空格缩进，netplan只认空格
      addresses:
      - 192.168.23.129/24		
      dhcp4: false
      gateway4: 192.168.23.129
      nameservers:
        addresses:
        - 8.8.8.8
        search: []
      version: 2
      renderer: NetworkManager
      #address后填写IP地址，使用虚拟机网络编辑器中net模式的前三位
使用命令生效

    armstrong@ubuntu:~$ netplan apply
4、使用SecureCRT连接虚拟机
在这里插入图片描述
填写好主机名（即IP地址）和用户名就可连接成功
如果遇到如下错误 就是密钥交互失败
密钥配对失败
解决办法
1、armstrong@ubuntu:~$ cat /etc/ssh/ssh_config
查看此文件找到密钥
，然后复制在这里插入图片描述
2、使用vim编辑器编辑相应的sshd_config文件，将上面复制的密钥放进去，不要前面的#

armstrong@ubuntu:~$ sudo vim /etc/ssh/sshd_config
在这里插入图片描述
然后重新连接即可。
新人学习linux，有哪里有错请大佬指导。
参考：
SecureCRT 登录Ubuntu失败Key exchange failure（解决Ubutu密钥交换失败的问题）


这是秘钥交互失败，需要修改相关配置文件如下

sudo vi /etc/ssh/ssh_config修改文件为以下截图

sudo vi /etc/ssh/sshd_config修改文件为以下截图
就是将ssh_config文件中的

 

 Ciphers aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc

 MACs hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160

复制到sshd_config文件中，然后重启服sshd服务器。

sudo /etc/init.d/ssh restart

重新连接即可连接上

参考链接：https://blog.csdn.net/zls986992484/article/details/52683332
 
原文链接：https://blog.csdn.net/u011186256/article/details/79963544

因为在jetson nano系统初始化完成之前,它是没有开启ssh服务的,所以只能用串口进行连接comx,115200波特率,之后就要换成ssh连接了,因为

初始化,连接网络还是建议用HDMI线连接显示屏初始化,为什么呢?因为死活连接不上去的网络,在显示屏上,几下就连接上了..............就无语192.168.55.1

社区版建议下载这个,https://github.com/Qengineering/Jetson-Nano-Ubuntu-20-image?tab=readme-ov-file
因为官方版的最新的是jetson nano的乌班图系统是18的,但是18版的已经停止维修了,而这个社区版的是20版
注意是下载里面的readme.md文件里的连接,不是github仓库里的whl文件

推荐选择：
完整镜像（预装 OpenCV、TensorFlow、PyTorch）：

文件：JetsonNanoUb20_3b.img.xz（8.7GB）

下载地址：Sync 源 或 Google Drive 备用

适用场景：需要深度学习框架和计算机视觉库的用户。

替代选项：
分卷镜像（网络不稳定时使用）：
下载全部 14 个分卷文件（JetsonNanoUb20_3b.img.xz.001 至 .013），合并后解压。

精简镜像（仅系统 + JetPack）：
文件：JetsonNanoUb20_bare.img.xz（5.6GB），下载地址。
步骤 2：解压镜像文件
完整镜像或精简镜像：
Windows 用户：

安装 7-Zip。

右键单击 .xz 文件 → 7-Zip → 解压到当前文件夹，得到 .img 文件。